{% extends "base.html" %}
{% block content %}
    <script>
        function onSignIn(gUser) {
            var profile = gUser.getBasicProfile();
            console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
            console.log('Name: ' + profile.getName());
            console.log('Image URL: ' + profile.getImageUrl());
            console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.
        }
    </script>

    <div class="content-section">
        <form class="login" method="POST">
            {% csrf_token %}
            <fieldset class="form-group">
                <legend class="border-bottom mb-4">Log In</legend>
                {{ form.as_p }}
            </fieldset>
            <div class="container">
                <div class="g-signin2" data-onsuccess="onSignIn"></div>
                <div class="form-group">
                    <button class="btn btn-outline-info ml-3" type="submit">Login</button>
                </div>
            </div>
        </form>
        <div class="border-top pt-3">
            <small class="text-muted">
                Need an account? <a class="ml-2" href="{% url 'registration' %}">Register Now</a>
            </small>
        </div>
    </div>

    <!-- LOGOUT GOOGLE SSO
    <a href="#" onclick="signOut();">Sign out</a>
        <script>
          function signOut() {
            var auth2 = gapi.auth2.getAuthInstance();
            auth2.signOut().then(function () {
              console.log('User signed out.');
            });
          }
        </script>
    -->

{% endblock content %}
